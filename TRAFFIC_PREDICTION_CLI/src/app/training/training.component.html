<div id="trainingComponentBody">
    <nav class="navbar navbar-expand-lg bg-body-tertiary" aria-label="navbar" style="background-color: #e6e6e6;">
        <div class="container-fluid" style="background-color: #e6e6e6">
            <a class="navbar-brand">
                <span>
                    <button mat-icon-button class="example-icon" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">
                        <mat-icon>menu</mat-icon>
                    </button>
                </span>
            </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li style="font-size: 20px" class="nav-item">Traffic Intensity Prediction and Recommendation</li>
                </ul>
                <form class="d-flex" role="search">
                    <button mat-icon-button [matMenuTriggerFor]="accountMenu" class="example-icon favorite-icon"
                        aria-label="Example icon-button with heart icon">
                        <mat-icon>account_circle</mat-icon>
                    </button>
                    <mat-menu #accountMenu="matMenu">
                        <button mat-stroked-button>Sign out</button>
                    </mat-menu>
                </form>
            </div>
        </div>
    </nav>


    <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions"
        aria-labelledby="offcanvasWithBothOptionsLabel">
        <div class="offcanvas-header">
            <h1 style="margin-left: 125px" class="offcanvas-title" id="offcanvasExampleLabel">Menu</h1>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <mat-divider></mat-divider>
        <div class="offcanvas-body">
            <ul class="list-group list-group-flush">
                <li class="offcanvasList list-group-item" data-bs-dismiss="offcanvas">
                    <span style="float:left">Training</span>
                    <mat-icon style="float:right">keyboard_arrow_right</mat-icon>
                </li>

                <li class="offcanvasList list-group-item" (click)="navigateToPredictions()">
                    <span style="float:left">Predictions</span>
                    <mat-icon style="float:right">keyboard_arrow_right</mat-icon>
                </li>

                <li class="offcanvasList list-group-item" (click)="navigateToAdminInputs()">
                    <span style="float:left">Provide Junction Properties</span>
                    <mat-icon style="float:right">keyboard_arrow_right</mat-icon>
                </li>
            </ul>
        </div>
    </div>





    <div id="maincontainer">

        <section class="box">
            <mat-tab-group [(selectedIndex)]="tabIndex" (selectedTabChange)="dismissSnackBar()">



                <mat-tab label="Manage Training">
                    <div *ngIf="manageTrainingActive" style="padding-top: 30px">
                        <div>

                            <div id="maincontainer2" class="
                            container
                            bg-primary 
                            p-3 
                            mb-5 
                            bg-white 
                            rounded
                    ">
                                <button mat-mini-fab color='basic' (click)="openDatasetDescriptionDialog()"
                                    matTooltip="Click to show guide">
                                    <mat-icon>info</mat-icon>
                                </button>
                                <br />
                                <br />
                                <div class="card text-center">
                                    <div class="card-header">
                                        <span>
                                            <strong style="font-size: 20px" (click)="openDatasetDescriptionDialog()"
                                                matTooltip="Click to show guide">Manage Training {{ '\u24D8' }}</strong>
                                        </span>
                                    </div>
                                    <div class="card-body">
                                        <div style="padding-top: 10px;" class="example-form">
                                            <div class="row">
                                                <!-- <div>
                                                    <div class="col-auto">
                                                        <label class="visually-hidden"
                                                            for="autoSizingInputGroup">Junction</label>
                                                        <div class="input-group">
                                                            <div class="input-group-text">Choose Junction</div>
                                                            <select (change)="changeJunction()"
                                                                [(ngModel)]="inputJunction" class="form-select"
                                                                aria-label="Default select example">
                                                                <option *ngFor="let junction of junctions"
                                                                    [value]="junction">{{ junction }}
                                                                </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div> -->
                                                <div class="form-floating">
                                                    <select (change)="changeJunction()"
                                                        [(ngModel)]="inputJunction" class="form-select"
                                                        aria-label="Default select example">
                                                        <option *ngFor="let junction of junctions"
                                                            [value]="junction">{{ junction }}
                                                        </option>
                                                    </select>
                                                    <label style="padding-left: 25px;" for="floatingSelect">Choose Junction</label>
                                                </div>
                                                <div style="padding-top: 20px">
                                                    <form class="was-validated">
                                                        <div class="mb-3">
                                                            <input #file class="form-control" id="inputGroupFile02"
                                                                type="file" accept=".csv" id="myfile" name="myfile"
                                                                [(ngModel)]="dataset"
                                                                (change)="fileChangeListener($event)" required>
                                                            <div class="invalid-feedback">Only .csv file required</div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <div *ngIf="fileProcessing">
                                                <div class="spinner-grow" role="status">
                                                    <span class="visually-hidden">Loading...</span>
                                                </div>
                                                <div>
                                                    <p>Processing File</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="showTrainingOptions && dataset && correctJunctions">
                                            <hr>
                                            <div style="float:left">
                                                <section class="example-section">
                                                    <mat-checkbox [(ngModel)]="clearProgress" color="primary"
                                                        class="example-margin">
                                                        <span style="color: red">.Clear trained progress and start</span>
                                                    </mat-checkbox>
                                                </section>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-footer text-body-secondary">
                                        <div class="text-center">
                                            <button mat-raised-button color="primary" matTooltip="Start training"
                                                (click)="processAndStartTraining()">Proceed</button>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="startedTraining" class="d-flex align-items-center">
                                    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                                </div>
                            </div>



                        </div>



                    </div>
                </mat-tab>




                <mat-tab label="Training summary" [disabled]="!trainingSummaryActive">
                    <div *ngIf="predictionReady" class="accordion" id="accordionExample">
                        <div orientation="vertical" style="padding-top: 20px">
                            <div *ngIf="trainingSummaryActive">
                                <div style="padding-top: 10px">
                                    <div>
                                        <span>
                                            <h1>
                                                <strong>{{ inputJunction }}, {{ currentDistrict }}</strong>
                                            </h1>
                                        </span>
                                        <h1 matTooltip="Highest accuracy after training">
                                            {{ algorithmHighestAccuracy}}, {{ testRatioHighestAccuracy }}
                                        </h1>
                                    </div>
                                    <mat-divider></mat-divider>
                                    <mat-divider></mat-divider>
                                    <mat-divider></mat-divider>
                                    <mat-divider></mat-divider>
                                    <div class="card border-{{addToMasterStatus}} mb-3">
                                        <div class="card-body">
                                            <div *ngIf="modelSummaryReady">
                                                <h4><strong>{{ modelSummary[3].Property }}: {{ modelSummary[3].Value
                                                        }}</strong></h4>
                                            </div>
                                            <div>
                                                <span>
                                                    <mat-form-field appearance="outline" style="width: 300px">
                                                        <mat-label>Choose algorithm</mat-label>
                                                        <mat-select [(ngModel)]="renderedAlgorithm"
                                                            (selectionChange)="renderAllComparisons()">
                                                            <mat-option *ngFor="let algorithm of algorithms"
                                                                [value]="algorithm">
                                                                {{ algorithm }}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </span>
                                                <span>
                                                    <mat-form-field appearance="outline" class="example-full-width"
                                                        style="margin-left: 10px">
                                                        <mat-label>Choose testing ratio</mat-label>
                                                        <mat-select [(ngModel)]="renderedTestRatio"
                                                            (selectionChange)="renderAllComparisons()">
                                                            <mat-option *ngFor="let ratio of resultTestingRatios"
                                                                [value]="ratio">
                                                                {{ ratio }}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </span>
                                            </div>
                                            <div>
                                                <div *ngIf="addedToMaster">
                                                    <div>
                                                        <button mat-button color="primary">
                                                            <mat-icon>check</mat-icon>
                                                            Already added to master
                                                        </button>
                                                        <button mat-flat-button color="primary"
                                                            (click)="openAddToMasterDialog()">
                                                            Add to master
                                                        </button>
                                                    </div>
                                                </div>
                                                <div *ngIf="!addedToMaster">
                                                    <div>
                                                        <button mat-button color="warn">
                                                            <mat-icon>close</mat-icon>
                                                            Not added to master yet
                                                        </button>
                                                        <button mat-flat-button color="primary"
                                                            (click)="openAddToMasterDialog()">
                                                            Add to master
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>











                                <div *ngIf="!gotTestingRatioComparisons" class="d-flex align-items-center">
                                    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                                </div>
                                <div *ngIf="!gotTestingRatioComparisons">
                                    <div>
                                        <h4>Fetching Comparisons</h4>
                                    </div>
                                </div>




                                <div *ngIf="gotTestingRatioComparisons" style="padding-top: 30px">
                                    <div class="row">
                                        <div class="col">
                                            <div>
                                                <div>
                                                    <span>
                                                        <button mat-icon-button type="button" color="primary"
                                                            data-bs-toggle="collapse" data-bs-target="#toggleRenditions"
                                                            aria-expanded="false" aria-controls="toggleRenditions">
                                                            <mat-icon>settings</mat-icon>
                                                        </button>
                                                    </span>
                                                    <span style="padding-left: 5px">
                                                        <button mat-icon-button color="primary"
                                                            (click)="openModelSummaryDialog()">
                                                            <mat-icon>info</mat-icon>
                                                        </button>
                                                    </span>
                                                </div>
                                                <section class="example-section collapse" id="toggleRenditions">
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="actualVsPredictedCardHidden">Actual
                                                        Vs
                                                        Predicted</mat-checkbox>
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="algorithmComparisonCardHidden">Accuracy
                                                        Comparisons (Algorithms)</mat-checkbox>
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="testingRatioComparisonCardHidden">Accuracy
                                                        Comparisons (Testing Ratios)</mat-checkbox>
                                                </section>
                                            </div>
                                            <div class="card-group">
                                                <div class="card" *ngIf="actualVsPredictedCardHidden">
                                                    <div class="card-header">
                                                        <nav class="navbar bg-body-tertiary" aria-label="navbarCard">
                                                            <div class="container-fluid">
                                                                <a class="navbar-brand">
                                                                    <strong style="font-size: 17px">Actual Vs Predicted
                                                                        {{
                                                                        '\u24D8' }}</strong>
                                                                </a>
                                                                <div class="d-flex" style="float:right">
                                                                    <select style="float:right" class="form-select"
                                                                        [(ngModel)]="comparisonOption"
                                                                        aria-label="Default select example">
                                                                        <option selected>Line Plot</option>
                                                                        <option value="Table">Table</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </nav>
                                                    </div>
                                                    <div class="card-body">
                                                        <div *ngIf="comparisonOption == 'Line Plot'">
                                                            <div *ngIf="!comparisonChartHidden">
                                                                <div>
                                                                    <div echarts [options]="mapOptionActualVsPredicted"
                                                                        class="demo-chart"></div>
                                                                    <div id="paginator4"
                                                                        class="justify-content-end btn-group"
                                                                        role="group"
                                                                        aria-label="Button group with nested dropdown">
                                                                        <button type="button"
                                                                            [ngClass]="classForPreviousButtonPlot"
                                                                            (click)="previous10Plot()"
                                                                            class="btn btn-outline-secondary">{{'\u21E6'}}</button>
                                                                        <button type="button" id="paginator4indicator"
                                                                            class="btn btn-outline-secondary"
                                                                            disabled>{{predictedChartIndex}} -
                                                                            {{predictedChartIndex
                                                                            + 10}} of
                                                                            {{numberOfPlotDataEntries}}</button>
                                                                        <button type="button"
                                                                            [ngClass]="classForNextButtonPlot"
                                                                            (click)="next10Plot()"
                                                                            class="btn btn-outline-secondary">{{'\u21E8'}}</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div *ngIf="comparisonOption == 'Table'">
                                                            <div *ngIf="comparisonTableReady">

                                                                <!--
                                                            ** Table for showing actual and predicted values comparison **
                                                        -->

                                                                <div>
                                                                    <table
                                                                        class="table table-bordered border-warning table-striped-columns"
                                                                        aria-describedby="table3-desc">
                                                                        <thead>
                                                                            <tr>
                                                                                <th scope="col">Actual</th>
                                                                                <th scope="col">Predicted</th>
                                                                                <th scope="col">Difference</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr
                                                                                *ngFor="let record of dataSourcePredicted">
                                                                                <th scope="row">{{ record.actual }}</th>
                                                                                <td>{{ record.predicted }}</td>
                                                                                <td>{{ record.difference }}</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <div id="paginator4"
                                                                        class="justify-content-end btn-group"
                                                                        role="group"
                                                                        aria-label="Button group with nested dropdown">
                                                                        <button type="button"
                                                                            [ngClass]="classForPreviousButtonPredicted"
                                                                            (click)="previousPredicted()"
                                                                            class="btn btn-outline-secondary">{{'\u21E6'}}</button>
                                                                        <button type="button" id="paginator4indicator"
                                                                            class="btn btn-outline-secondary"
                                                                            disabled>{{predictedChartIndex}} -
                                                                            {{predictedChartIndex
                                                                            + 10}} of
                                                                            {{numberOfPlotDataEntries}}</button>
                                                                        <button type="button"
                                                                            [ngClass]="classForNextButtonPredicted"
                                                                            (click)="nextPredicted()"
                                                                            class="btn btn-outline-secondary">{{'\u21E8'}}</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="card" *ngIf="algorithmComparisonCardHidden">
                                                    <div class="card-header">
                                                        <nav class="navbar bg-body-tertiary" aria-label="navbarCard">
                                                            <div class="container-fluid">
                                                                <a class="navbar-brand">
                                                                    <strong style="font-size: 17px">Accuracy Comparisons
                                                                        (Algorithm) {{ '\u24D8' }}</strong>
                                                                </a>
                                                                <div class="d-flex" style="float:right">
                                                                    <select style="float:right" class="form-select"
                                                                        [(ngModel)]="accuracyOption"
                                                                        aria-label="Default select example">
                                                                        <option selected>Line Plot</option>
                                                                        <option value="Table">Table</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </nav>
                                                    </div>
                                                    <div class="card-body">
                                                        <div *ngIf="accuracyOption == 'Table'">
                                                            <table class="table table-bordered border-primary"
                                                                aria-describedby="tabe1-desc">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col">Algorithm</th>
                                                                        <th scope="col">Accuracy</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let record of accuracies">
                                                                        <td>{{ record.junctionOrAlgorithm }}</td>
                                                                        <td>{{ record.accuracy }}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        <div *ngIf="accuracyOption == 'Line Plot'">
                                                            <div *ngIf="!accuracyBarChartHidden">
                                                                <div>
                                                                    <div echarts
                                                                        [options]="mapOptionAlgorithmComparison"
                                                                        class="demo-chart"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="card" [hidden]="!testingRatioComparisonCardHidden">
                                                    <div class="card-header">
                                                        <nav class="navbar bg-body-tertiary" aria-label="navbarCard">
                                                            <div class="container-fluid">
                                                                <a class="navbar-brand">
                                                                    <strong style="font-size: 17px">
                                                                        Accuracy Comparisons (Testing ratios) {{
                                                                        '\u24D8' }}
                                                                    </strong>
                                                                </a>
                                                                <div class="d-flex" style="float:right">
                                                                    <select style="float:right" class="form-select"
                                                                        [(ngModel)]="accuracyOptionAlgorithm"
                                                                        aria-label="Default select example">
                                                                        <option selected>Line Plot</option>
                                                                        <option value="Table">Table</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </nav>
                                                    </div>
                                                    <div class="card-body">
                                                        <div *ngIf="accuracyOptionAlgorithm == 'Line Plot'">
                                                            <div *ngIf="!testingRatioComparisonChartNotReady">
                                                                <div echarts
                                                                    [options]="mapOptionTestingRatiosComparison"
                                                                    class="demo-chart"></div>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="accuracyOptionAlgorithm == 'Table'">
                                                            <table class="table table-bordered border-danger"
                                                                aria-describedby="tabe1-desc">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col">Testing Ratio</th>
                                                                        <th scope="col">Accuracy</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr
                                                                        *ngFor="let record of testRatioComparisonTableData">
                                                                        <td>{{ record.testRatio }}</td>
                                                                        <td>{{ record.accuracy }}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>



                                <div style="padding-left: 200px; padding-right: 200px; padding-top: 50px">
                                    <div class="card mb-3">
                                        <div class="card-header">
                                            <nav class="navbar bg-body-tertiary" aria-label="navbarCard">
                                                <div class="container-fluid">
                                                    <a class="navbar-brand">
                                                        <strong>
                                                            Accuracy comparisons of algorithms and
                                                            testing
                                                            ratios {{ '\u24D8' }}
                                                        </strong>
                                                    </a>
                                                    <div class="d-flex" style="float:right">
                                                        <select [(ngModel)]="ultimateComparisonChartFormat"
                                                            (change)="changeUltimateComparisonFormat()"
                                                            class="form-select" aria-label="Default select example">
                                                            <option value="Line Plot">Line Plot</option>
                                                            <option value="Bar Chart">Bar Chart</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </nav>
                                        </div>
                                        <div class="card">
                                            <div id="mapOptionUltimateComparison" #myDiv echarts
                                                [options]="mapOptionUltimateComparison" class=demo-chart></div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </mat-tab>




                <mat-tab label="Predictions" [disabled]="!predictionsActive">
                    <div *ngIf="predictionReady" class="accordion" id="accordionExample">

                        <div orientation="vertical" style="padding-top: 20px">


                            <div *ngIf="predictionsActive" style="padding-top: 10px">
                                <h1><strong>{{ inputJunction }}, {{ currentDistrict }}</strong></h1>
                                <hr />
                                <div style="padding-left: 200px; padding-right: 200px; padding-top: 20px">
                                    <div class="card border-primary mb-3">
                                        <div class="card-header">
                                            <nav class="navbar bg-body-tertiary" aria-label="navbarCard">
                                                <div class="container-fluid">
                                                    <a class="navbar-brand">
                                                        <strong>
                                                            Predictions of {{ inputJunction }} for next {{ time }} {{
                                                            timeFormat
                                                            }} {{ '\u24D8' }}
                                                        </strong>
                                                    </a>
                                                    <div class="d-flex" style="float:right">
                                                        <select style="width: 150px" class="form-select"
                                                            [(ngModel)]="predictionsOption"
                                                            aria-label="Default select example">
                                                            <option selected>Line Plot</option>
                                                            <option value="Table">Table</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </nav>
                                        </div>
                                        <div class="card">
                                            <div *ngIf="predictionsOption == 'Line Plot'">
                                                <div style="padding-left: 100px; padding-right: 100px;"
                                                    *ngIf="!futurePredictionsChartHidden">
                                                    <div class="card">
                                                        <div echarts [options]="mapOptionFuturePredictions"
                                                            class="demo-chart">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="predictionsOption == 'Table'">
                                                <table class="table table-bordered border table-striped"
                                                    aria-describedby="table2-desc">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">DateTime</th>
                                                            <th scope="col">Vehicles</th>
                                                            <th scope="col">Year</th>
                                                            <th scope="col">Month</th>
                                                            <th scope="col">Day</th>
                                                            <th scope="col">Hour</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let record of dataSourceResult">
                                                            <th scope="row">{{ record.DateTime }}</th>
                                                            <td>{{ record.Vehicles }}</td>
                                                            <td>{{ record.Year }}</td>
                                                            <td>{{ record.Month }}</td>
                                                            <td>{{ record.Day }}</td>
                                                            <td>{{ record.Hour }}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <div>
                                                    <div id="paginator5" class="justify-content-end btn-group"
                                                        role="group" aria-label="Button group with nested dropdown">
                                                        <button type="button" [ngClass]="classForPreviousButtonResult"
                                                            (click)="previousResult()"
                                                            class="btn btn-outline-secondary">{{'\u21E6'}}</button>
                                                        <button type="button" id="paginator1indicator"
                                                            class="btn btn-outline-secondary" disabled>{{indexResult}} -
                                                            {{indexResult +5}}
                                                            {{numberOfRecordsResult}}</button>
                                                        <button type="button" [ngClass]="classForNextButtonResult"
                                                            (click)="nextResult()"
                                                            class="btn btn-outline-secondary">{{'\u21E8'}}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>



                        </div>

                    </div>
                </mat-tab>




                <mat-tab label="Visualize existing data" [disabled]="!existingActive">
                    <div *ngIf="existingActive" style="padding-top: 30px">
                        <h1><strong>{{ inputJunction }}, {{ currentDistrict }}</strong></h1>
                        <hr />
                        <ng-template matStepLabel>Existing Data</ng-template>





                        <div style="padding-left: 200px; padding-right: 200px; padding-top: 20px">
                            <div class="card border-primary mb-3">
                                <div class="card-header">
                                    <nav class="navbar bg-body-tertiary" aria-label="navbarCard">
                                        <div class="container-fluid">
                                            <a class="navbar-brand">
                                                <strong>
                                                    Visualization of provided dataset {{ '\u24D8' }}
                                                </strong>
                                            </a>
                                            <div class="d-flex" style="float:right">
                                                <select style="width: 150px" class="form-select"
                                                    [(ngModel)]="existingDataOption"
                                                    aria-label="Default select example">
                                                    <option selected>Line Plot</option>
                                                    <option value="Table">Table</option>
                                                </select>
                                            </div>
                                        </div>
                                    </nav>
                                </div>
                                <div class="card">


                                    <div *ngIf="existingDataOption == 'Table'">
                                        <table class="table table-bordered" aria-describedby="tabe1-desc">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Junction</th>
                                                    <th scope="col">DateTime</th>
                                                    <th scope="col">Vehicles</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let record of dataSource">
                                                    <th scope="row">{{ record.junction }}</th>
                                                    <td>{{ record.dateTime }}</td>
                                                    <td>{{ record.vehicles }}</td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <!-- 
                                    ** Paginator for table **
                                -->
                                        <div id="paginator1" class="justify-content-end btn-group" role="group"
                                            aria-label="Button group with nested dropdown">
                                            <button type="button" [ngClass]="classForPreviousButton"
                                                (click)="previous()"
                                                class="btn btn-outline-secondary">{{'\u21E6'}}</button>
                                            <button type="button" id="paginator1indicator"
                                                class="btn btn-outline-secondary" disabled>{{index}} - {{index +5}} of
                                                {{numberOfRecords}}</button>
                                            <button type="button" [ngClass]="classForNextButton" (click)="next()"
                                                class="btn btn-outline-secondary">{{'\u21E8'}}</button>
                                        </div>
                                    </div>
                                    <div *ngIf="existingDataOption == 'Line Plot'">
                                        <div *ngIf="!vehiclesVsDateTimeChartHidden"> <!-- Canvas for showing plot -->
                                            <div class="card">
                                                <div echarts [options]="mapOptionDataVisualization" class="demo-chart">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </mat-tab>



            </mat-tab-group>


        </section>
    </div>






</div>